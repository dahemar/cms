<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel - CMS</title>
    <!-- Quill Editor CSS -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        background: #ffffff;
        padding: 0;
        color: #000000;
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: #ffffff;
        padding: 40px;
      }

      h1 {
        margin-bottom: 40px;
        color: #000000;
        font-weight: 300;
        font-size: 28px;
        letter-spacing: -0.5px;
        border-bottom: 1px solid #000000;
        padding-bottom: 15px;
      }

      .section {
        margin-bottom: 60px;
      }

      .section h2 {
        margin-bottom: 25px;
        color: #000000;
        font-size: 20px;
        font-weight: 400;
        letter-spacing: -0.3px;
      }

      .form-group {
        margin-bottom: 15px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 400;
        color: #000000;
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      input[type="text"],
      input[type="email"],
      textarea,
      select {
        width: 100%;
        padding: 12px;
        border: 1px solid #000000;
        border-radius: 0;
        font-size: 14px;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        background: #ffffff;
        color: #000000;
        transition: border-color 0.2s ease;
      }

      input[type="text"]:focus,
      input[type="email"]:focus,
      textarea:focus,
      select:focus {
        outline: none;
        border-color: #000000;
      }

      input[type="text"]:hover,
      input[type="email"]:hover,
      textarea:hover,
      select:hover {
        border-color: #333333;
      }

      textarea {
        min-height: 150px;
        resize: vertical;
      }

      /* Estilos para el editor Quill */
      #editor-container {
        min-height: 300px;
        margin-bottom: 20px;
      }

      .ql-editor {
        min-height: 300px;
        font-size: 14px;
      }

      /* Estilos para el editor de título (Quill pequeño) */
      #title-editor-container {
        border: 1px solid #000000;
        border-radius: 0;
        margin-bottom: 0;
      }

      #title-editor-container .ql-toolbar {
        border: none;
        border-bottom: 1px solid #000000;
        padding: 8px;
      }

      #title-editor-container .ql-toolbar .ql-formats {
        margin-right: 15px;
      }

      #title-editor-container .ql-editor {
        min-height: 50px;
        max-height: 150px;
        font-size: 14px;
        padding: 10px;
        overflow-y: auto;
      }

      #title-editor-container .ql-editor.ql-blank::before {
        font-style: normal;
        color: #999;
      }

      .ql-container {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        border: 1px solid #000000;
        border-radius: 0;
      }

      .ql-toolbar {
        border: 1px solid #000000;
        border-bottom: none;
        border-radius: 0;
        background: #ffffff;
        padding: 8px;
      }

      .ql-toolbar button {
        border-radius: 0;
        transition: all 0.2s ease;
      }

      .ql-toolbar button:hover {
        background: #000000 !important;
        color: #ffffff !important;
      }

      .ql-toolbar button:hover .ql-stroke {
        stroke: #ffffff !important;
      }

      .ql-toolbar button:hover .ql-fill {
        fill: #ffffff !important;
      }

      .ql-toolbar button.ql-active {
        background: #000000 !important;
        color: #ffffff !important;
      }

      .ql-toolbar button.ql-active .ql-stroke {
        stroke: #ffffff !important;
      }

      .ql-toolbar button.ql-active .ql-fill {
        fill: #ffffff !important;
      }

      /* Estilos para pickers (botones con "A" - tamaño, color, etc.) */
      .ql-toolbar .ql-picker-label {
        border-radius: 0;
        transition: all 0.2s ease;
      }

      .ql-toolbar .ql-picker-label:hover {
        background: #000000 !important;
        color: #ffffff !important;
      }

      .ql-toolbar .ql-picker-label:hover {
        background: #000000 !important;
        color: #ffffff !important;
      }

      .ql-toolbar .ql-picker-label:hover .ql-stroke {
        stroke: #ffffff !important;
      }

      .ql-toolbar .ql-picker-label:hover .ql-fill {
        fill: #ffffff !important;
      }

      .ql-toolbar .ql-picker-label.ql-active {
        background: #000000 !important;
        color: #ffffff !important;
      }

      .ql-toolbar .ql-picker-label.ql-active .ql-stroke {
        stroke: #ffffff !important;
      }

      .ql-toolbar .ql-picker-label.ql-active .ql-fill {
        fill: #ffffff !important;
      }

      /* Items del dropdown del picker */
      .ql-toolbar .ql-picker-item:hover {
        background: #000000 !important;
        color: #ffffff !important;
      }

      .ql-toolbar .ql-picker-item:hover .ql-stroke {
        stroke: #ffffff !important;
      }

      .ql-toolbar .ql-picker-item:hover .ql-fill {
        fill: #ffffff !important;
      }

      .ql-editor {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        color: #000000;
      }
      
      /* Estilos para vídeos embebidos en el editor */
      .ql-video-embed {
        margin: 15px 0;
        max-width: 100%;
        display: block;
      }
      
      /* Contenedor de vídeos con aspect ratio 16:9 en el editor */
      .ql-video-embed div[id^="youtube-container-"],
      .ql-video-embed div[style*="margin-bottom: 15px"][style*="position: relative"],
      .ql-video-embed div[style*="margin: 15px 0"][style*="position: relative"] {
        position: relative;
        width: 100%;
        max-width: 560px;
        margin: 15px 0;
        padding-bottom: 56.25%; /* 16:9 aspect ratio (9/16 = 0.5625) */
        height: 0;
        overflow: hidden;
      }
      
      .ql-video-embed iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 0;
        border: none;
      }
      
      /* Estilos para embeds de Instagram en el editor */
      .ql-instagram-embed {
        margin: 15px 0;
        max-width: 100%;
        display: block;
      }
      
      .ql-instagram-embed div[style*="position: relative"] {
        position: relative;
        width: 100%;
        max-width: 540px;
        margin: 15px 0;
        min-height: 400px;
        height: auto;
        overflow: visible;
      }
      
      .ql-instagram-embed iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        min-height: 400px;
        height: auto;
        border-radius: 0;
        border: none;
      }
      
      /* Estilos para embeds de SoundCloud en el editor */
      .ql-soundcloud-embed {
        margin: 15px 0;
        max-width: 100%;
        display: block;
      }
      
      .ql-soundcloud-embed div[style*="position: relative"] {
        position: relative;
        width: 100%;
        max-width: 100%;
        margin: 15px 0;
        height: auto;
        min-height: 166px;
        overflow: visible;
      }
      
      /* Para perfiles de SoundCloud (con lista de tracks) */
      .ql-soundcloud-embed div[style*="padding-bottom: 40%"] {
        padding-bottom: 0 !important;
        height: 450px !important;
      }
      
      /* Para tracks individuales */
      .ql-soundcloud-embed div[style*="padding-bottom: 20%"] {
        padding-bottom: 0 !important;
        height: 166px !important;
      }
      
      .ql-soundcloud-embed iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 0;
        border: none;
      }
      
      /* Estilos para botones personalizados de Instagram y SoundCloud en el toolbar */
      .ql-toolbar button.ql-instagram,
      .ql-toolbar button.ql-soundcloud {
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
        border: none !important;
        border-radius: 0 !important;
        opacity: 1 !important;
        visibility: visible !important;
        background: transparent !important;
        vertical-align: middle !important;
        margin: 0 !important;
        position: relative !important;
        color: #444 !important;
        padding: 2px 4px !important;
        width: auto !important;
        height: auto !important;
        min-width: 24px !important;
        min-height: 24px !important;
        box-sizing: border-box !important;
      }

      /* Separar el botón de Instagram del botón anterior */
      .ql-toolbar button.ql-instagram {
        margin-left: 8px !important;
      }
      
      /* Hover uniforme: fondo negro para todos los botones */
      .ql-toolbar button.ql-instagram:hover,
      .ql-toolbar button.ql-soundcloud:hover {
        background-color: #000000 !important;
        color: #ffffff !important;
      }

      .ql-toolbar button.ql-instagram:hover svg,
      .ql-toolbar button.ql-instagram:hover svg path {
        fill: #ffffff !important;
      }

      .ql-toolbar button.ql-soundcloud:hover svg,
      .ql-toolbar button.ql-soundcloud:hover svg path {
        fill: #ffffff !important;
      }
      
      /* Quitar cualquier borde o outline en hover */
      .ql-toolbar button.ql-instagram:hover,
      .ql-toolbar button.ql-soundcloud:hover,
      .ql-toolbar button.ql-instagram:focus,
      .ql-toolbar button.ql-soundcloud:focus {
        outline: none !important;
        border: none !important;
        box-shadow: none !important;
      }
      
      .ql-toolbar button.ql-instagram svg,
      .ql-toolbar button.ql-soundcloud svg,
      .ql-toolbar button.ql-soundcloud img {
        display: block !important;
        width: 18px !important;
        height: 18px !important;
        margin: 0 !important;
        fill: currentColor !important;
        pointer-events: none !important;
        transition: filter 0.2s ease !important;
        flex-shrink: 0 !important;
      }
      
      /* Estilo específico para la imagen de SoundCloud en hover - convertir a blanco cuando el fondo es negro */
      .ql-toolbar button.ql-soundcloud:hover img {
        filter: brightness(0) invert(1) !important;
      }
      
      /* Asegurar que los botones no se oculten - sobrescribir cualquier estilo de Quill */
      .ql-toolbar .ql-formats button.ql-instagram,
      .ql-toolbar .ql-formats button.ql-soundcloud,
      .ql-toolbar button.ql-instagram,
      .ql-toolbar button.ql-soundcloud {
        display: inline-block !important;
        opacity: 1 !important;
        visibility: visible !important;
      }
      
      /* Ocultar cualquier recuadro gris que pueda aparecer */
      .ql-toolbar .ql-formats:empty,
      .ql-toolbar .ql-formats:has(button.ql-instagram):not(:has(button:not(.ql-instagram):not(.ql-soundcloud))) {
        display: none !important;
      }

      .checkbox-group {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      input[type="checkbox"] {
        width: 18px;
        height: 18px;
        accent-color: #000000;
        cursor: pointer;
      }

      button {
        background: #000000;
        color: #ffffff;
        border: 1px solid #000000;
        padding: 12px 32px;
        border-radius: 0;
        cursor: pointer;
        font-size: 13px;
        font-weight: 400;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.2s ease;
      }

      button:hover {
        background: #ffffff;
        color: #000000;
      }

      button.delete {
        background: #000000;
        border-color: #000000;
      }

      button.delete:hover {
        background: #ffffff;
        color: #000000;
      }

      button.edit {
        background: #000000;
        border-color: #000000;
      }

      button.edit:hover {
        background: #ffffff;
        color: #000000;
      }

      .posts-list {
        display: grid;
        gap: 20px;
      }

      .post-card {
        border: 1px solid #000000;
        border-radius: 0;
        padding: 30px;
        background: #ffffff;
        margin-bottom: 20px;
        transition: border-color 0.2s ease;
      }

      .post-card:hover {
        border-color: #333333;
      }

      .post-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #000000;
      }

      .post-title {
        font-size: 18px;
        font-weight: 400;
        color: #000000;
        margin-bottom: 8px;
        letter-spacing: -0.3px;
        white-space: pre-wrap;
        word-wrap: break-word;
      }
      
      .post-title i,
      .post-title em {
        font-style: italic;
      }
      
      .post-title b,
      .post-title strong {
        font-weight: 600;
      }
      
      .post-title u {
        text-decoration: underline;
      }

      .post-meta {
        font-size: 11px;
        color: #666666;
        margin-bottom: 12px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .post-content {
        color: #000000;
        line-height: 1.8;
        font-size: 14px;
        margin-bottom: 15px;
        white-space: pre-wrap;
      }
      
      /* Estilos para imágenes y vídeos dentro del contenido del post */
      .post-content img {
        max-width: 100%;
        height: auto;
        border-radius: 0;
        margin: 10px 0;
        border: 1px solid #000000;
        display: block;
      }
      
      /* Contenedor de vídeos con aspect ratio 16:9 */
      .post-content div[id^="youtube-container-"],
      .post-content div[style*="margin-bottom: 15px"][style*="position: relative"],
      .post-content div[style*="margin: 15px 0"][style*="position: relative"] {
        position: relative;
        width: 100%;
        max-width: 560px;
        margin: 15px 0;
        padding-bottom: 56.25%; /* 16:9 aspect ratio (9/16 = 0.5625) */
        height: 0;
        overflow: hidden;
      }
      
      .post-content iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 0;
        border: none;
      }
      
      /* Estilos para embeds de Instagram en posts */
      .post-content div[style*="padding-bottom: 100%"] {
        position: relative;
        width: 100%;
        max-width: 540px;
        margin: 15px 0;
        padding-bottom: 100%;
        height: 0;
        overflow: hidden;
      }
      
      /* Estilos para embeds de SoundCloud en posts */
      .post-content div[style*="height: 450px"] {
        position: relative;
        width: 100%;
        max-width: 100%;
        margin: 15px 0;
        height: 450px;
        overflow: visible;
      }
      
      .post-content div[style*="height: 166px"] {
        position: relative;
        width: 100%;
        max-width: 100%;
        margin: 15px 0;
        height: 166px;
        overflow: visible;
      }
      
      .post-content div[style*="height: 450px"] iframe,
      .post-content div[style*="height: 166px"] iframe {
        height: 100%;
      }

      .post-actions {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .badge {
        display: inline-block;
        padding: 6px 12px;
        border-radius: 0;
        font-size: 11px;
        font-weight: 400;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border: 1px solid #000000;
        background: #ffffff;
        color: #000000;
        transition: all 0.2s ease;
      }

      .badge.published {
        background: transparent;
        color: #000000;
        border: none;
        padding: 0;
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .badge.published:hover {
        background: transparent;
        color: #000000;
      }

      .badge.draft {
        background: #ffffff;
        color: #000000;
        border-color: #666666;
      }

      .badge.draft:hover {
        background: #000000;
        color: #ffffff;
        border-color: #000000;
      }

      .message {
        padding: 15px;
        border-radius: 0;
        margin-bottom: 25px;
        display: none;
        border: 1px solid #000000;
        background: #ffffff;
        color: #000000;
        font-size: 13px;
      }

      .message.success {
        background: #ffffff;
        color: #000000;
        border-color: #000000;
      }

      .message.error {
        background: #ffffff;
        color: #000000;
        border-color: #000000;
      }

      .message.show {
        display: block;
      }

      .form-actions {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .form-actions button[type="button"] {
        background: #ffffff;
        color: #000000;
        border: 1px solid #000000;
      }

      .form-actions button[type="button"]:hover {
        background: #000000;
        color: #ffffff;
      }

      /* Modal de preview */
      .preview-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 10000;
        overflow-y: auto;
      }

      .preview-modal.show {
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding: 40px 20px;
      }

      .preview-content {
        background: #ffffff;
        border: 1px solid #000000;
        border-radius: 0;
        max-width: 800px;
        width: 100%;
        padding: 40px;
        margin: 20px auto;
        position: relative;
      }

      .preview-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 1px solid #000000;
      }

      .preview-header h3 {
        margin: 0;
        font-size: 18px;
        font-weight: 400;
        color: #000000;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .preview-close {
        background: #000000;
        color: #ffffff;
        border: 1px solid #000000;
        padding: 8px 16px;
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .preview-close:hover {
        background: #ffffff;
        color: #000000;
      }

      .preview-post {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      }

      .preview-post-title {
        font-size: 24px;
        font-weight: 400;
        color: #000000;
        margin-bottom: 20px;
        letter-spacing: -0.3px;
      }

      .preview-post-content {
        color: #000000;
        line-height: 1.8;
        font-size: 14px;
        margin-top: 20px;
      }

      .preview-post-content img {
        max-width: 100%;
        height: auto;
        border-radius: 0;
        margin: 20px 0;
        border: 1px solid #000000;
        display: block;
      }

      .preview-post-content iframe {
        border-radius: 0;
        border: none;
      }

      /* Estilos para videos embebidos en preview */
      .preview-post-content div[id^="youtube-container-"],
      .preview-post-content div[style*="margin: 15px 0"][style*="position: relative"] {
        position: relative;
        width: 100%;
        max-width: 560px;
        margin: 20px 0;
        padding-bottom: 56.25%;
        height: 0;
        overflow: hidden;
      }

      .preview-post-content div[id^="youtube-container-"] iframe,
      .preview-post-content div[style*="margin: 15px 0"][style*="position: relative"] iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      /* Estilos para Instagram embeds en preview */
      .preview-post-content div[style*="min-height: 400px"] {
        position: relative;
        width: 100%;
        max-width: 540px;
        margin: 20px 0;
        min-height: 400px;
        height: auto;
        overflow: visible;
      }

      .preview-post-content div[style*="min-height: 400px"] iframe {
        height: auto;
        min-height: 400px;
      }

      /* Estilos para SoundCloud embeds en preview */
      .preview-post-content div[style*="height: 450px"],
      .preview-post-content div[style*="height: 166px"] {
        position: relative !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 20px 0 !important;
        overflow: visible !important;
      }

      .preview-post-content div[style*="height: 450px"] {
        height: 450px !important;
      }

      .preview-post-content div[style*="height: 166px"] {
        height: 166px !important;
      }

      .preview-post-content div[style*="height: 450px"] iframe,
      .preview-post-content div[style*="height: 166px"] iframe {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        border-radius: 0 !important;
        border: none !important;
      }

      /* Estilos para slideshow en preview */
      .preview-post-content .slideshow-wrapper {
        position: relative;
        width: 100%;
        margin: 20px 0;
      }
      .preview-post-content .slideshow-container {
        position: relative;
        width: 100%;
        overflow: hidden;
      }
      .preview-post-content .slideshow-slide {
        display: none;
        width: 100%;
      }
      .preview-post-content .slideshow-slide.active {
        display: block;
      }
      .preview-post-content .slideshow-slide img {
        max-width: 100%;
        height: auto;
        border-radius: 0;
        margin: 0;
        border: 1px solid #000000;
        display: block;
      }
      .preview-post-content .slideshow-caption {
        font-size: 12px;
        color: #666;
        margin-top: 8px;
        font-style: italic;
        text-align: center;
      }
      .preview-post-content .slideshow-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.7);
        color: #ffffff;
        border: 1px solid #000000;
        padding: 15px 20px;
        font-size: 24px;
        cursor: pointer;
        z-index: 10;
        transition: background 0.2s ease;
        border-radius: 0;
      }
      .preview-post-content .slideshow-arrow:hover {
        background: rgba(0, 0, 0, 0.9);
      }
      .preview-post-content .slideshow-prev {
        left: 10px;
      }
      .preview-post-content .slideshow-next {
        right: 10px;
      }
      .preview-post-content .slideshow-indicators {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-top: 15px;
      }
      .preview-post-content .slideshow-indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        border: 1px solid #000000;
        background: transparent;
        cursor: pointer;
        padding: 0;
        transition: background 0.2s ease;
      }
      .preview-post-content .slideshow-indicator.active {
        background: #000000;
      }
      .preview-post-content .slideshow-indicator:hover {
        background: #666666;
      }

      /* Sistema de bloques con columnas en preview (solo desktop) */
      .preview-blocks-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
        width: 100%;
      }
      .preview-blocks-row {
        display: flex;
        flex-direction: column;
        gap: 20px;
        width: 100%;
      }
      .preview-block-item {
        width: 100%;
        box-sizing: border-box;
      }
      /* En desktop, aplicar layout de columnas */
      @media (min-width: 768px) {
        .preview-blocks-row {
          flex-direction: row;
          flex-wrap: nowrap;
          align-items: flex-start;
        }
        .preview-block-item[data-width="full"] {
          width: 100% !important;
        }
        .preview-block-item[data-width="half"] {
          width: calc(50% - 10px) !important;
          flex: 0 0 calc(50% - 10px) !important;
        }
        .preview-block-item[data-width="third"] {
          width: calc(33.333% - 14px) !important;
          flex: 0 0 calc(33.333% - 14px) !important;
        }
        .preview-block-item[data-width="two-thirds"] {
          width: calc(66.666% - 10px) !important;
          flex: 0 0 calc(66.666% - 10px) !important;
        }
      }

      /* Estilos para el editor de imágenes */
      #image-editor-container {
        max-height: 70vh;
        overflow: auto;
      }

      #image-editor-img {
        max-width: 100%;
        max-height: 70vh;
      }


      .section-submenu .section-menu-item {
        padding-left: 15px;
        font-size: 12px;
      }

      .main-content {
        flex: 1;
        min-width: 0;
      }

      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 1px solid #000000;
      }

      .section-header h2 {
        margin: 0;
        font-size: 24px;
        font-weight: 400;
        color: #000000;
      }

      /* Section Manager Panel */
      .section-manager-container {
        width: 100%;
      }

      .section-manager-content {
        max-height: 600px;
        overflow-y: auto;
      }

      .section-manager-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        margin-bottom: 10px;
        background: #f5f5f5;
        border: 1px solid #000000;
        border-radius: 0;
      }

      .section-manager-item-info {
        flex: 1;
      }

      .section-manager-item-name {
        font-weight: 500;
        color: #000000;
        margin-bottom: 5px;
      }

      .section-manager-item-meta {
        font-size: 11px;
        color: #666666;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .section-manager-item-actions {
        display: flex;
        gap: 10px;
      }

      .section-manager-item-actions button {
        padding: 8px 16px;
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border-radius: 0;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .section-manager-item-actions .edit-btn {
        background: #ffffff;
        color: #000000;
        border: 1px solid #000000;
      }

      .section-manager-item-actions .edit-btn:hover {
        background: #000000;
        color: #ffffff;
      }

      .section-manager-item-actions .delete-btn {
        background: #ffffff;
        color: #000000;
        border: 1px solid #000000;
      }

      .section-manager-item-actions .delete-btn:hover {
        background: #000000;
        color: #ffffff;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 1px solid #000000;">
        <h1 style="margin: 0; border: none; padding: 0;">Admin Panel</h1>
        <div style="display: flex; align-items: center; gap: 20px;">
          <span id="user-info" style="font-size: 12px; color: #666666; text-transform: uppercase; letter-spacing: 0.5px;"></span>
          <button id="view-user-mode-btn" style="display: none; background: #ffffff; color: #000000; padding: 10px 24px; font-size: 11px; border: 1px solid #000000; text-transform: uppercase; letter-spacing: 0.5px; cursor: pointer; transition: all 0.2s ease;" onmouseover="this.style.background='#000000'; this.style.color='#ffffff';" onmouseout="this.style.background='#ffffff'; this.style.color='#000000';">View as User</button>
          <button id="logout-btn" style="background: #000000; color: #ffffff; padding: 10px 24px; font-size: 11px; border: 1px solid #000000;">Sign Out</button>
        </div>
      </div>

      <div id="message" class="message"></div>

      <!-- Site Selector (only for admins) -->
      <div id="site-selector-container" style="display: none; margin-bottom: 30px; padding: 20px; background: #ffffff; border: 1px solid #000000;">
        <label for="site-selector" style="display: block; margin-bottom: 10px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; color: #000000;">Select Site:</label>
        <select id="site-selector" style="padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px; min-width: 200px; width: 100%; max-width: 400px;">
          <option value="">Loading sites...</option>
        </select>
      </div>

      <!-- Section Manager Panel (Collapsible) -->
      <div class="section-manager-container" style="margin-bottom: 30px;">
        <div class="section-manager-header" id="section-manager-header" style="display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; background: #ffffff; border: 1px solid #000000; cursor: pointer; transition: all 0.2s ease;" onmouseover="this.style.background='#f5f5f5';" onmouseout="this.style.background='#ffffff';">
          <h3 style="margin: 0; font-size: 14px; font-weight: 400; color: #000000; text-transform: uppercase; letter-spacing: 0.5px;">Manage Sections</h3>
          <span id="section-manager-toggle" style="font-size: 18px; color: #000000;">+</span>
        </div>
        <div id="section-manager-content" class="section-manager-content" style="display: none; padding: 20px; background: #ffffff; border: 1px solid #000000; border-top: none;">
          <div id="create-section-container" style="margin-bottom: 20px; padding: 15px; background: #f5f5f5; border: 1px solid #000000;">
            <button type="button" id="create-section-btn" style="padding: 10px 20px; background: #000000; color: #ffffff; border: none; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
              + Create New Section
            </button>
          </div>
          <div id="sections-manager-list"></div>
        </div>
      </div>

      <!-- Contenido principal -->
      <div class="main-content">

      <!-- UI para gestionar thumbnails (se muestra cuando la sección es de tipo "thumbnails") -->
      <div class="section" id="thumbnails-manager-container" style="display: none;">
        <h2 id="thumbnails-section-title">Manage Thumbnails</h2>
        <div style="margin-bottom: 20px; padding: 20px; background: #ffffff; border: 1px solid #000000;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <label style="font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;">Thumbnails</label>
            <button type="button" id="add-thumbnail-btn" style="padding: 8px 16px; background: #000000; color: #ffffff; border: none; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
              + Add Thumbnail
            </button>
          </div>
          <div id="thumbnails-list" style="display: flex; flex-direction: column; gap: 15px;">
            <p style="color: #999; font-style: italic; padding: 20px; text-align: center;">Loading thumbnails...</p>
          </div>
          <small style="color: #666666; font-size: 11px; display: block; margin-top: 8px; text-transform: uppercase; letter-spacing: 0.5px;">
            Each thumbnail automatically creates a detail page with the predefined template. Click "Edit" to edit the thumbnail (image, title, caption) or "Edit Detail" to edit the detail page content.
          </small>
        </div>
      </div>

      <!-- Modal para editar thumbnail -->
      <div id="thumbnail-editor-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 10000; overflow-y: auto;">
        <div style="position: relative; max-width: 600px; margin: 50px auto; background: #ffffff; border: 1px solid #000000; padding: 30px;">
          <button type="button" id="thumbnail-editor-close-btn" style="position: absolute; top: 10px; right: 10px; background: #ffffff; border: 1px solid #000000; padding: 5px 10px; cursor: pointer; font-size: 12px;">×</button>
          
          <h3 style="margin: 0 0 20px 0; font-size: 16px; font-weight: 400; text-transform: uppercase; letter-spacing: 0.5px;">Edit Thumbnail</h3>
          
          <form id="thumbnail-editor-form">
            <input type="hidden" id="thumbnail-editor-id" />
            
            <div class="form-group" style="margin-bottom: 20px;">
              <label for="thumbnail-editor-title" style="display: block; margin-bottom: 5px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Title *</label>
              <input type="text" id="thumbnail-editor-title" required style="width: 100%; padding: 10px; border: 1px solid #000000; border-radius: 0; font-size: 13px;" />
            </div>
            
            <div class="form-group" style="margin-bottom: 20px;">
              <label for="thumbnail-editor-image-url" style="display: block; margin-bottom: 5px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Image URL *</label>
              <div style="display: flex; gap: 10px; align-items: flex-start;">
                <input type="text" id="thumbnail-editor-image-url" required style="flex: 1; padding: 10px; border: 1px solid #000000; border-radius: 0; font-size: 13px;" />
                <button type="button" id="thumbnail-editor-edit-image-btn" style="padding: 10px 15px; background: #000000; color: #ffffff; border: none; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; white-space: nowrap;">
                  Edit Image
                </button>
              </div>
              <div id="thumbnail-editor-image-preview" style="margin-top: 10px; width: 100%; max-width: 300px; height: 200px; background: #f0f0f0; border: 1px solid #ddd; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                <span style="color: #999; font-size: 11px;">Image preview</span>
              </div>
            </div>
            
            <div class="form-group" style="margin-bottom: 20px;">
              <label for="thumbnail-editor-description" style="display: block; margin-bottom: 5px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Description / Caption (optional)</label>
              <textarea id="thumbnail-editor-description" rows="3" style="width: 100%; padding: 10px; border: 1px solid #000000; border-radius: 0; font-size: 13px; font-family: inherit; resize: vertical;"></textarea>
            </div>
            
            <div class="form-actions" style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 30px;">
              <button type="button" id="thumbnail-editor-cancel-btn" style="padding: 10px 20px; background: #ffffff; color: #000000; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
                Cancel
              </button>
              <button type="submit" id="thumbnail-editor-save-btn" style="padding: 10px 20px; background: #000000; color: #ffffff; border: none; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
                Save
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Modal para reordenar thumbnails -->
      <div id="thumbnail-reorder-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 10000; overflow-y: auto;">
        <div style="position: relative; max-width: 800px; margin: 50px auto; background: #ffffff; border: 1px solid #000000; padding: 30px;">
          <button type="button" id="thumbnail-reorder-close-btn" style="position: absolute; top: 10px; right: 10px; background: #ffffff; border: 1px solid #000000; padding: 5px 10px; cursor: pointer; font-size: 12px;">×</button>
          
          <h3 style="margin: 0 0 20px 0; font-size: 16px; font-weight: 400; text-transform: uppercase; letter-spacing: 0.5px;">Reorder Thumbnails</h3>
          
          <p style="font-size: 11px; color: #666; margin-bottom: 20px; font-style: italic;">
            Drag and drop thumbnails to reorder them. The order will be saved when you click "Save Order".
          </p>
          
          <div id="thumbnail-reorder-list" style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 30px;">
            <!-- Los thumbnails se añadirán aquí dinámicamente -->
          </div>
          
          <div class="form-actions" style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 30px;">
            <button type="button" id="thumbnail-reorder-cancel-btn" style="padding: 10px 20px; background: #ffffff; color: #000000; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
              Cancel
            </button>
            <button type="button" id="thumbnail-reorder-save-btn" style="padding: 10px 20px; background: #000000; color: #ffffff; border: none; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
              Save Order
            </button>
          </div>
        </div>
      </div>

      <!-- Modal para crear sección desde schema -->
      <div id="create-section-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 10000; overflow-y: auto;">
        <div style="position: relative; max-width: 600px; margin: 50px auto; background: #ffffff; border: 1px solid #000000; padding: 30px;">
          <button type="button" id="create-section-modal-close-btn" style="position: absolute; top: 10px; right: 10px; background: #ffffff; border: 1px solid #000000; padding: 5px 10px; cursor: pointer; font-size: 12px;">×</button>
          
          <h3 style="margin: 0 0 20px 0; font-size: 16px; font-weight: 400; text-transform: uppercase; letter-spacing: 0.5px;">Create New Section</h3>
          
          <form id="create-section-form">
            <div class="form-group" style="margin-bottom: 20px;">
              <label for="section-name" style="display: block; margin-bottom: 5px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Section Name *</label>
              <input type="text" id="section-name" required style="width: 100%; padding: 10px; border: 1px solid #000000; border-radius: 0; font-size: 13px;" />
            </div>

            <div class="form-group" style="margin-bottom: 20px;">
              <label for="section-schema" style="display: block; margin-bottom: 5px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Section Type (from Frontend Profile)</label>
              <select id="section-schema" style="width: 100%; padding: 10px; border: 1px solid #000000; border-radius: 0; font-size: 13px;">
                <option value="">-- Free Mode (No Template) --</option>
              </select>
              <small id="section-schema-info" style="color: #666666; font-size: 11px; display: block; margin-top: 5px; text-transform: uppercase; letter-spacing: 0.5px; font-style: italic;">
                Select a schema to use a predefined template, or leave empty for free mode.
              </small>
            </div>

            <div class="form-group" style="margin-bottom: 20px;">
              <label for="section-description" style="display: block; margin-bottom: 5px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Description (optional)</label>
              <textarea id="section-description" rows="3" style="width: 100%; padding: 10px; border: 1px solid #000000; border-radius: 0; font-size: 13px; font-family: inherit; resize: vertical;"></textarea>
            </div>

            <div class="form-actions" style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 30px;">
              <button type="button" id="create-section-cancel-btn" style="padding: 10px 20px; background: #ffffff; color: #000000; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
                Cancel
              </button>
              <button type="submit" style="padding: 10px 20px; background: #000000; color: #ffffff; border: none; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
                Create Section
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Formulario para crear/editar post (oculto para secciones de thumbnails) -->
      <div class="section" id="post-form-container">
        <h2 id="form-title">Create New Post</h2>
        <form id="post-form">
          <input type="hidden" id="post-id" />
          
          <!-- Campos básicos -->
          <div class="form-group">
            <label for="title">Title *</label>
            <div id="title-editor-container"></div>
            <input type="hidden" id="title" required />
          </div>

          <div class="form-group">
            <label for="slug">Slug (URL-friendly, optional - auto-generated)</label>
            <input type="text" id="slug" />
          </div>

          <div class="form-group">
            <label for="post-order">Order (optional - lower appears first)</label>
            <input type="number" id="post-order" value="0" style="width: 120px;" />
            <small style="color: #666666; font-size: 11px; display: block; margin-top: 5px; text-transform: uppercase; letter-spacing: 0.5px;">
              Used to order items inside list/grid sections (e.g. releases, live, bio, contact).
            </small>
          </div>

          <div class="form-group">
            <label for="section">Section *</label>
            <select id="section" required>
              <option value="">Select a section</option>
            </select>
            <small id="section-type-info" style="color: #666666; font-size: 11px; display: block; margin-top: 5px; text-transform: uppercase; letter-spacing: 0.5px;">
              Posts must belong to a section. Post type will be set automatically.
            </small>
          </div>

          <div class="form-group">
            <label for="tags">Tags (optional)</label>
            <div id="tags-container" style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 5px;"></div>
            <input type="text" id="tag-input" placeholder="Type a tag and press Enter" style="margin-top: 8px; width: 100%; padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px;" />
            <small style="color: #666666; font-size: 11px; display: block; margin-top: 8px; text-transform: uppercase; letter-spacing: 0.5px;">
              Type tags and press Enter to add them. Click on a tag to remove it.
            </small>
          </div>

          <!-- Campos de Thumbnail (solo para secciones de tipo "thumbnails") -->
          <div class="form-group" id="thumbnail-fields-container" style="display: none; margin-top: 30px; padding: 20px; background: #f9f9f9; border: 1px solid #ddd;">
            <label style="font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; display: block; margin-bottom: 15px;">Thumbnail Information</label>
            <small style="color: #666666; font-size: 11px; display: block; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 0.5px;">
              These fields appear on the thumbnails page. The detail page blocks are below.
            </small>
            
            <div class="form-group" style="margin-bottom: 20px;">
              <label for="thumbnail-image-url" style="display: block; margin-bottom: 5px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Thumbnail Image URL *</label>
              <div style="display: flex; gap: 10px; align-items: flex-start;">
                <input type="text" id="thumbnail-image-url" required style="flex: 1; padding: 10px; border: 1px solid #000000; border-radius: 0; font-size: 13px;" />
                <button type="button" id="thumbnail-image-edit-btn" style="padding: 10px 15px; background: #000000; color: #ffffff; border: none; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; white-space: nowrap;">
                  Edit Image
                </button>
              </div>
              <div id="thumbnail-image-preview" style="margin-top: 10px; width: 100%; max-width: 300px; height: 200px; background: #f0f0f0; border: 1px solid #ddd; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                <span style="color: #999; font-size: 11px;">Image preview</span>
              </div>
            </div>
            
            <div class="form-group" style="margin-bottom: 20px;">
              <label for="thumbnail-caption" style="display: block; margin-bottom: 5px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Thumbnail Caption (optional)</label>
              <textarea id="thumbnail-caption" rows="3" style="width: 100%; padding: 10px; border: 1px solid #000000; border-radius: 0; font-size: 13px; font-family: inherit; resize: vertical;"></textarea>
              <small style="color: #666666; font-size: 11px; display: block; margin-top: 5px; text-transform: uppercase; letter-spacing: 0.5px;">
                This caption appears below the thumbnail image on the thumbnails page.
              </small>
            </div>
          </div>

          <!-- Editor especializado para Slideshow -->
          <div class="form-group" id="slideshow-editor-container" style="display: none; margin-top: 30px;">
            <label style="font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; display: block; margin-bottom: 15px;">Slideshow Configuration</label>
            
            <!-- Lista de slides -->
            <div style="margin-bottom: 20px;">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <label style="font-size: 12px; text-transform: uppercase; font-weight: bold;">Slides</label>
                <button type="button" id="slideshow-add-slide-btn" style="padding: 8px 16px; background: #000000; color: #ffffff; border: none; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
                  + Add Slide
                </button>
              </div>
              <div id="slideshow-slides-list" style="display: flex; flex-direction: column; gap: 15px;">
                <!-- Los slides se añadirán aquí dinámicamente -->
              </div>
            </div>
            
            <!-- Botón para abrir el editor completo de slideshow -->
            <div style="padding: 20px; background: #f9f9f9; border: 1px solid #ddd; margin-bottom: 20px;">
              <label style="font-size: 12px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 15px;">Slideshow Management</label>
              <p style="font-size: 11px; color: #666; margin-bottom: 15px; font-style: italic;">
                Click the button below to open the full slideshow editor where you can configure settings, preview the slideshow, and edit individual images.
              </p>
              <button type="button" id="open-slideshow-editor-btn" style="padding: 12px 24px; background: #000000; color: #ffffff; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; width: 100%;">
                Open Slideshow Editor
              </button>
            </div>
          </div>

          <!-- Sistema de bloques flexibles (oculto para slideshow) -->
          <div class="form-group" id="blocks-container" style="margin-top: 30px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
              <div style="flex: 1;">
                <label id="blocks-container-title" style="font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px;">Content Blocks</label>
                <div id="blocks-container-description" style="font-size: 11px; color: #666666; margin-top: 5px; text-transform: uppercase; letter-spacing: 0.5px; font-style: italic;"></div>
              </div>
              <button type="button" id="add-block-btn" style="padding: 8px 16px; background: #000000; color: #ffffff; border: none; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;">
                + Add Block
              </button>
            </div>
            <div id="blocks-list" style="display: flex; flex-direction: column; gap: 15px;">
              <!-- Los bloques se añadirán aquí dinámicamente -->
            </div>
            <small id="blocks-container-help" style="color: #666666; font-size: 11px; display: block; margin-top: 8px; text-transform: uppercase; letter-spacing: 0.5px;">
              Add flexible content blocks: text, images, videos, embeds. Use the arrow buttons to reorder.
            </small>
          </div>

          <!-- Editor legacy (oculto por defecto, visible solo si no hay bloques) -->
          <div class="form-group" id="legacy-editor-container" style="display: none;">
            <label for="content">Content *</label>
            <div id="editor-container"></div>
            <input type="hidden" id="content" name="content" />
            <small style="color: #666666; font-size: 11px; display: block; margin-top: 8px; text-transform: uppercase; letter-spacing: 0.5px;">
              Use the toolbar to format text, insert images and videos.
            </small>
          </div>

          <div class="form-group">
            <div class="checkbox-group">
              <input type="checkbox" id="published" />
              <label for="published">Published</label>
            </div>
          </div>

          <!-- Botón para reordenar thumbnails (solo para secciones de tipo "thumbnails") -->
          <div class="form-group" id="thumbnail-reorder-container" style="display: none; margin-top: 30px; padding: 20px; background: #f9f9f9; border: 1px solid #ddd;">
            <label style="font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; display: block; margin-bottom: 15px;">Thumbnails Management</label>
            <p style="font-size: 11px; color: #666; margin-bottom: 15px; font-style: italic;">
              Click the button below to reorder all thumbnails in this section.
            </p>
            <button type="button" id="reorder-thumbnails-btn" style="padding: 12px 24px; background: #000000; color: #ffffff; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; width: 100%;">
              Reorder Thumbnails
            </button>
          </div>

          <div class="form-actions">
            <button type="submit" id="submit-btn">Save</button>
            <button type="button" id="cancel-btn" style="display: none;">Cancel</button>
          </div>
        </form>
      </div>

      <!-- Lista de posts -->
      <div class="section">
        <div class="section-header">
          <h2 id="section-title">All Posts</h2>
        </div>
        
        <!-- Search and Filters -->
        <div style="margin-bottom: 30px; padding: 25px; background: #ffffff; border: 1px solid #000000; border-radius: 0;">
          <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
            <input 
              type="text" 
              id="search-input" 
              placeholder="Search posts..." 
              style="flex: 1; min-width: 200px; padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px;"
            />
            <select id="filter-published" style="padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px; min-width: 150px;">
              <option value="">All</option>
              <option value="true">Published</option>
              <option value="false">Drafts</option>
            </select>
            <select id="filter-section" style="padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px; min-width: 150px;">
              <option value="">All sections</option>
            </select>
            <select id="filter-tag" style="padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px; min-width: 150px;">
              <option value="">All tags</option>
            </select>
            <button id="clear-filters" style="padding: 12px 24px; background: #ffffff; color: #000000; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.2s ease;">Clear</button>
          </div>
        </div>
        
        <div id="posts-list" class="posts-list">
          <p>Loading posts...</p>
        </div>
        
        <!-- Paginación -->
        <div id="pagination" style="margin-top: 20px; display: flex; justify-content: center; align-items: center; gap: 10px;"></div>
        </div>
      </div>

      <!-- Audit Logs Section (oculta, solo se muestra en el modal) -->
      <div id="audit-logs-section" class="section" style="display: none;">
      </div>

      <!-- Modal de Audit Logs (solo para admins) -->
      <div id="audit-logs-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 10000; overflow-y: auto;">
        <div style="position: relative; max-width: 1200px; margin: 50px auto; background: #ffffff; border: 1px solid #000000; padding: 30px; max-height: 90vh; overflow-y: auto;">
          <button type="button" id="audit-logs-modal-close-btn" style="position: absolute; top: 10px; right: 10px; background: #ffffff; border: 1px solid #000000; padding: 5px 10px; cursor: pointer; font-size: 12px;">×</button>
          
          <h3 style="margin: 0 0 20px 0; font-size: 16px; font-weight: 400; text-transform: uppercase; letter-spacing: 0.5px;">Audit Logs</h3>
          
          <!-- Filters -->
          <div style="margin-bottom: 30px; padding: 25px; background: #ffffff; border: 1px solid #000000; border-radius: 0;">
            <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
              <select id="audit-filter-action" style="padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px; min-width: 150px;">
                <option value="">All actions</option>
                <option value="login_success">Login Success</option>
                <option value="login_failed">Login Failed</option>
                <option value="logout">Logout</option>
                <option value="user_registered">User Registered</option>
                <option value="post_created">Post Created</option>
                <option value="post_updated">Post Updated</option>
                <option value="post_deleted">Post Deleted</option>
              </select>
              <select id="audit-filter-resource" style="padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px; min-width: 150px;">
                <option value="">All resources</option>
                <option value="user">User</option>
                <option value="post">Post</option>
                <option value="site">Site</option>
              </select>
              <input 
                type="date" 
                id="audit-filter-start-date" 
                style="padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px; min-width: 150px;"
              />
              <input 
                type="date" 
                id="audit-filter-end-date" 
                style="padding: 12px; border: 1px solid #000000; border-radius: 0; font-size: 13px; min-width: 150px;"
              />
              <button id="audit-apply-filters" style="padding: 12px 24px; background: #000000; color: #ffffff; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.2s ease;">Apply Filters</button>
              <button id="audit-clear-filters" style="padding: 12px 24px; background: #ffffff; color: #000000; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.2s ease;">Clear</button>
            </div>
          </div>

          <!-- Stats -->
          <div id="audit-stats" style="margin-bottom: 30px; padding: 20px; background: #f5f5f5; border: 1px solid #000000; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
            <div>
              <div style="font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; color: #666666; margin-bottom: 5px;">Total Logs</div>
              <div id="audit-total-logs" style="font-size: 24px; font-weight: 400; color: #000000;">-</div>
            </div>
            <div>
              <div style="font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; color: #666666; margin-bottom: 5px;">Last 24h</div>
              <div id="audit-logs-24h" style="font-size: 24px; font-weight: 400; color: #000000;">-</div>
            </div>
          </div>

          <!-- Logs List -->
          <div id="audit-logs-list" style="border: 1px solid #000000;">
            <p style="padding: 20px; text-align: center; color: #666666;">Loading audit logs...</p>
          </div>

          <!-- Pagination -->
          <div id="audit-pagination" style="margin-top: 20px; display: flex; justify-content: center; align-items: center; gap: 10px;"></div>
        </div>
      </div>
    </div>

    <!-- Modal de Editor de Imágenes -->
    <div id="image-editor-modal" class="preview-modal">
      <div class="preview-content" style="max-width: 900px;">
        <div class="preview-header">
          <h3>Edit Image</h3>
          <button class="preview-close" id="image-editor-close-btn">Close</button>
        </div>
        <div style="padding: 20px 0;">
          <div id="image-editor-container" style="max-width: 100%; margin: 0 auto;">
            <img id="image-editor-img" style="max-width: 100%; display: block;" />
          </div>
          <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
            <button id="image-editor-crop-btn" style="padding: 12px 24px; background: #000000; color: #ffffff; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.2s ease;">Crop & Upload</button>
            <button id="image-editor-cancel-btn" style="padding: 12px 24px; background: #ffffff; color: #000000; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.2s ease;">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de Editor de Slideshow -->
    <div id="slideshow-editor-modal" class="preview-modal">
      <div class="preview-content" style="max-width: 1200px; width: 95%;">
        <div class="preview-header">
          <h3>Slideshow Editor</h3>
          <button class="preview-close" id="slideshow-editor-close-btn">Close</button>
        </div>
        <div style="padding: 20px 0;">
          <!-- Configuración del slideshow -->
          <div style="margin-bottom: 30px; padding: 20px; background: #f9f9f9; border: 1px solid #ddd;">
            <label style="font-size: 12px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 15px;">Slideshow Settings</label>
            
            <p style="font-size: 11px; color: #666; margin-bottom: 15px; font-style: italic;">
              Note: Image dimensions will be determined by the frontend based on layout (full, half, etc.).
            </p>
            
            <div style="margin-bottom: 15px;">
              <label style="display: flex; align-items: center; gap: 8px; font-size: 12px;">
                <input type="checkbox" id="slideshow-modal-show-arrows" style="width: auto;" />
                <span>Show navigation arrows</span>
              </label>
            </div>
            
            <div style="margin-bottom: 15px;">
              <label style="display: flex; align-items: center; gap: 8px; font-size: 12px;">
                <input type="checkbox" id="slideshow-modal-autoplay" style="width: auto;" />
                <span>Auto-play (automatic transition)</span>
              </label>
            </div>
            
            <div>
              <label style="display: block; margin-bottom: 5px; font-size: 11px; color: #666;">Interval (seconds)</label>
              <select id="slideshow-modal-interval" style="width: 100%; padding: 8px; border: 1px solid #000; font-size: 13px;">
                <option value="2">2 seconds</option>
                <option value="3">3 seconds</option>
                <option value="4">4 seconds</option>
                <option value="5" selected>5 seconds</option>
                <option value="6">6 seconds</option>
                <option value="8">8 seconds</option>
                <option value="10">10 seconds</option>
              </select>
            </div>
          </div>

          <!-- Preview del slideshow -->
          <div style="margin-bottom: 30px; padding: 20px; background: #ffffff; border: 1px solid #ddd;">
            <label style="font-size: 12px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 15px;">Slideshow Preview</label>
            <div id="slideshow-preview-container" style="position: relative; width: 100%; max-width: 800px; margin: 0 auto; border: 1px solid #000; background: #f0f0f0;">
              <!-- El preview se generará dinámicamente -->
            </div>
          </div>

          <!-- Lista de imágenes para editar -->
          <div style="margin-bottom: 20px;">
            <label style="font-size: 12px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 15px;">Edit Individual Images</label>
            <div id="slideshow-images-editor-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
              <!-- Las imágenes se añadirán dinámicamente -->
            </div>
          </div>

          <!-- Botones de acción -->
          <div style="margin-top: 30px; display: flex; gap: 10px; justify-content: center;">
            <button id="slideshow-editor-save-btn" style="padding: 12px 24px; background: #000000; color: #ffffff; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.2s ease;">Save Changes</button>
            <button id="slideshow-editor-cancel-btn" style="padding: 12px 24px; background: #ffffff; color: #000000; border: 1px solid #000000; border-radius: 0; cursor: pointer; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.2s ease;">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Cropper.js CSS and JS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    
    <!-- Quill Editor JS -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script>
      // Detectar entorno y configurar URLs dinámicamente
      const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
      const API_URL = isLocalhost ? "http://localhost:3000" : window.location.origin;
      
      // Función para logging condicional (solo en desarrollo)
      const debugLog = (...args) => {
        if (isLocalhost) {
          console.log(...args);
        }
      };
      // En producción, el frontend está en sympaathy-v2.vercel.app, no en el mismo dominio del CMS
      const FRONTEND_BASE_URL = isLocalhost ? "http://localhost:5173" : "https://sympaathy-v2.vercel.app";